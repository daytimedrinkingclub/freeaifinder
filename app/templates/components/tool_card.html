<div class="card h-100" itemscope itemtype="https://schema.org/SoftwareApplication">
    <div class="card-body d-flex flex-column">
        <h5 class="card-title" itemprop="name">{{ tool.name }}</h5>
        <p class="card-text flex-grow-1" itemprop="description">
            {{ tool.description|truncate(150, true, '...') }}
        </p>
        <p class="card-text"><small itemprop="applicationCategory">Category: {{ tool.category }}</small></p>
        {% if tool.tags %}
            <div class="mb-2">
                {% for tag in tool.tags.split(',')[:3] %}
                    <span class="badge bg-secondary me-1">{{ tag.strip() }}</span>
                {% endfor %}
            </div>
        {% endif %}
        <a href="{{ tool.link|add_utm_params(source='free_ai_finder', medium='directory', campaign='tool_listing', content=tool.name|slugify) }}" 
           class="btn btn-primary mt-auto" 
           target="_blank" 
           rel="noopener noreferrer" 
           itemprop="url">
            <i class="fas fa-external-link-alt me-2"></i>Visit Tool
        </a>
    </div>
</div>